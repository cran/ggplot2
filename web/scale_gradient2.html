<html>

<head>
	<title>scale_gradient2. had.co.nz</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
	<link rel="stylesheet" type="text/css" href="doc.css">
</head>

<body>
<?php include($_SERVER["DOCUMENT_ROOT"] . "header.html"); ?>

<div id="wrap">
<img src='scale_gradient2.png' width='50' height='50' alt='' align='right' class='icon' />
<h1>scale_gradient2</h1>
<p class='desc'>Colour gradient, with midpoint</p>
<h2>Details</h2>
<div class='details'>
<p>See <a href='layer.html'>layer</a> and <a href='qplot.html'>qplot</a> for more information on creating a complete plot from multiple components.</p>
</div>
<h2>See also</h2><ul>
<li>scale_color_gradient: continuous colour scale with midpoint</li>
<li>colorRamp: for details of interpolation algorithm</li>
</ul>
<h2>Examples</h2><pre>

&gt; dsub <span class="sym">&lt;-</span> subset<span class="sym">(</span>diamonds<span class="sym">,</span> x <span class="sym">&gt;</span> <span class="num">5</span> <span class="sym">&amp;</span> x <span class="sym">&lt;</span> <span class="num">6</span> <span class="sym">&amp;</span> y <span class="sym">&gt;</span> <span class="num">5</span> <span class="sym">&amp;</span> y <span class="sym">&lt;</span> <span class="num">6</span><span class="sym">)</span>
&gt; <span class="sym">(</span>d <span class="sym">&lt;-</span> <a href='qplot.html'>qplot</a><span class="sym">(</span>x<span class="sym">,</span> y<span class="sym">,</span> data<span class="sym">=</span>dsub<span class="sym">,</span> colour<span class="sym">=</span>x<span class="sym">-</span>y<span class="sym">))</span>
<img src='graphics/732eecbb53935762bcf806b9fd0abbd0.png' />

&gt; 
&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">()</span>
<img src='graphics/c5d0a65ba0b517c4680dd0def2552f91.png' />

&gt; <span class="slc"># Change <a href='scale_.html'>scale</a> name</span>
&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">(</span>expression<span class="sym">(</span>x <span class="sym">-</span> y<span class="sym">))</span>
<img src='graphics/729ea03f9c2480e4d5c397594bdf3013.png' />

&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">(</span><span class="str">&quot;Difference</span><span class="esc">\n</span><span class="str">between</span><span class="esc">\n</span><span class="str">width and</span><span class="esc">\n</span><span class="str">height&quot;</span><span class="sym">)</span>
<img src='graphics/2cd54dba0536287c1f5794057a3db565.png' />

&gt; 
&gt; <span class="slc"># Change limits and colours</span>
&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">(</span>limits<span class="sym">=</span>c<span class="sym">(-</span><span class="num">0.2</span><span class="sym">,</span> <span class="num">0.2</span><span class="sym">))</span>
<img src='graphics/9b7517d751b3d8fc70c667206781b690.png' />

&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">(</span>mid<span class="sym">=</span><span class="str">&quot;black&quot;</span><span class="sym">,</span> high<span class="sym">=</span><span class="str">&quot;yellow&quot;</span><span class="sym">,</span> low<span class="sym">=</span><span class="str">&quot;yellow&quot;</span><span class="sym">)</span>
<img src='graphics/66f3bcbfffb59f968a2171b513296cb5.png' />

&gt; 
&gt; <span class="slc"># You can also use a non-zero midpoint</span>
&gt; <span class="sym">(</span>d <span class="sym">&lt;-</span> <a href='qplot.html'>qplot</a><span class="sym">(</span>carat<span class="sym">,</span> price<span class="sym">,</span> data<span class="sym">=</span>diamonds<span class="sym">,</span> colour<span class="sym">=</span>price<span class="sym">/</span>carat<span class="sym">))</span>
<img src='graphics/30ccdaea41de5636f2575e583f653948.png' />

&gt; d <span class="sym">+</span> scale_colour_gradient<span class="sym">(</span>midpoint<span class="sym">=</span>mean<span class="sym">(</span>diamonds$price <span class="sym">/</span> diamonds$carat<span class="sym">),</span> high<span class="sym">=</span><span class="str">&quot;darkgreen&quot;</span><span class="sym">,</span> mid<span class="sym">=</span><span class="str">&quot;yellow&quot;</span><span class="sym">)</span>
<img src='graphics/9eab2f142c62381783f76f8880c5edfc.png' />

&gt; 
&gt; <span class="slc"># Fill gradients work much the same way</span></pre></div>

<?php include($_SERVER["DOCUMENT_ROOT"] . "footer.html"); ?>
</body>
</html>
