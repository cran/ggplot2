<html>

<head>
	<title>stat_density_2d. had.co.nz</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
	<link rel="stylesheet" type="text/css" href="doc.css">
</head>

<body>
<?php include($_SERVER["DOCUMENT_ROOT"] . "header.html"); ?>

<div id="wrap">
<img src='stat_density_2d.png' width='50' height='50' alt='' align='right' class='icon' />
<h1>stat_density_2d</h1>
<p class='desc'>Density estimation, 2D</p>
<h2>Details</h2>
<div class='details'>
<p>See <a href='layer.html'>layer</a> and <a href='qplot.html'>qplot</a> for more information on creating a complete plot from multiple components.</p>
</div>
<h2>Aesthetics</h2>
<p>The following aesthetics can be used with  stat_density_2d.  They are listed along with their default value.  All geoms and scales can also use the group aesthetic.  Read how this important aesthetic works in scale_group. Typically, you will associate an aesthetic with a variable in your data set.  To do this, you use the <a href='aes.html'>aes</a> function: <code>stat_density_2d(<a href='aes.html'>aes</a>(x = var))</code>. Scales control the details of the mapping between data and aesthetic properties; after each aesthetic are listed scales that can be used with that aesthetic. The <a href='scale_.html'>scale</a> documentation will also provide references to help you interpret the default values.</p>
<p>Instead of mapping an aesthetic to a variable in your dataset, you can also set it to a fixed value.  See the parameters section for details.</p>
<ul>
  <li><p>group: <code>..piece..</code> <span class='linklist'></span></p></li>
</ul>
<h2>Default geom</h2>
<p><a href='geom_density_2d.html' title='Contours from a 2d density estimate'>geom_density_2d</a>.  Override with the  <code>geom</code> argument: <code>stat_density_2d(geom="point")</code>.</p>
<h2>Examples</h2><pre>

&gt; m <span class="sym">&lt;-</span> <a href='ggplot.html'>ggplot</a><span class="sym">(</span>movies<span class="sym">,</span> <a href='aes.html'>aes</a><span class="sym">(</span>x<span class="sym">=</span>rating<span class="sym">,</span> y<span class="sym">=</span>length<span class="sym">)) +</span> <a href='geom_point.html' title='Points, as for a scatterplot'>geom_point</a><span class="sym">() +</span> scale_y_continuous<span class="sym">(</span>limits<span class="sym">=</span>c<span class="sym">(</span><span class="num">1</span><span class="sym">,</span> <span class="num">500</span><span class="sym">))</span>
&gt; m <span class="sym">+</span> <a href='geom_density_2d.html' title='Contours from a 2d density estimate'>geom_density_2d</a><span class="sym">()</span>
<img src='graphics/7b812a3ef5f2b092ac70f6b1ddff3215.png' />

&gt; 
&gt; dens <span class="sym">&lt;-</span> MASS<span class="sym">::</span>kde2d<span class="sym">(</span>movies$rating<span class="sym">,</span> movies$length<span class="sym">,</span> n<span class="sym">=</span><span class="num">100</span><span class="sym">)</span>
&gt; densdf <span class="sym">&lt;-</span> data.frame<span class="sym">(</span>expand.grid<span class="sym">(</span>rating <span class="sym">=</span> dens$x<span class="sym">,</span> length <span class="sym">=</span> dens$y<span class="sym">),</span> z<span class="sym">=</span>as.vector<span class="sym">(</span>dens$z<span class="sym">))</span>
&gt; m <span class="sym">+</span> <a href='geom_contour.html' title='Display contours of a 2d surface in 3d'>geom_contour</a><span class="sym">(</span><a href='aes.html'>aes</a><span class="sym">(</span>z<span class="sym">=</span>z<span class="sym">),</span> data<span class="sym">=</span>densdf<span class="sym">)</span>
<img src='graphics/d4e548ceb5ecbea2bf700c41423501bc.png' />

&gt; 
&gt; m <span class="sym">+</span> <a href='geom_density_2d.html' title='Contours from a 2d density estimate'>geom_density_2d</a><span class="sym">() +</span> scale_y_log10<span class="sym">()</span>
<img src='graphics/2df822ef38eb6dc46373602a4e30a3d0.png' />

&gt; m <span class="sym">+</span> <a href='geom_density_2d.html' title='Contours from a 2d density estimate'>geom_density_2d</a><span class="sym">() +</span> <a href='coord_trans.html' title='Transformed cartesian coordinate system'>coord_trans</a><span class="sym">(</span>y<span class="sym">=</span><span class="str">&quot;log10&quot;</span><span class="sym">)</span>
<img src='graphics/c7d842114233ad3c3f9798547a5126b2.png' />

&gt; 
&gt; <a href='qplot.html'>qplot</a><span class="sym">(</span>rating<span class="sym">,</span> length<span class="sym">,</span> data<span class="sym">=</span>movies<span class="sym">,</span> <a href='geom_.html'>geom</a><span class="sym">=</span>c<span class="sym">(</span><span class="str">&quot;point&quot;</span><span class="sym">,</span><span class="str">&quot;density2d&quot;</span><span class="sym">),</span> ylim<span class="sym">=</span>c<span class="sym">(</span><span class="num">1</span><span class="sym">,</span> <span class="num">500</span><span class="sym">))</span>
<img src='graphics/83b7fef1ca7538182d2adf97ce9a9323.png' />
</pre></div>

<?php include($_SERVER["DOCUMENT_ROOT"] . "footer.html"); ?>
</body>
</html>
