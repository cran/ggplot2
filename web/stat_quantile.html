<html>

<head>
	<title>stat_quantile. had.co.nz</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
	<link rel="stylesheet" type="text/css" href="doc.css">
</head>

<body>
<?php include($_SERVER["DOCUMENT_ROOT"] . "header.html"); ?>

<div id="wrap">
<img src='stat_quantile.png' width='50' height='50' alt='' align='right' class='icon' />
<h1>stat_quantile</h1>
<p class='desc'>Continuous quantiles</p>
<h2>Details</h2>
<div class='details'>
<p>See <a href='layer.html'>layer</a> and <a href='qplot.html'>qplot</a> for more information on creating a complete plot from multiple components.</p>
</div>
<h2>Aesthetics</h2>
<p>The following aesthetics can be used with  stat_quantile.  They are listed along with their default value.  All geoms and scales can also use the group aesthetic.  Read how this important aesthetic works in scale_group. Typically, you will associate an aesthetic with a variable in your data set.  To do this, you use the <a href='aes.html'>aes</a> function: <code>stat_quantile(<a href='aes.html'>aes</a>(x = var))</code>. Scales control the details of the mapping between data and aesthetic properties; after each aesthetic are listed scales that can be used with that aesthetic. The <a href='scale_.html'>scale</a> documentation will also provide references to help you interpret the default values.</p>
<p>Instead of mapping an aesthetic to a variable in your dataset, you can also set it to a fixed value.  See the parameters section for details.</p>
<ul>
  <li><p>group: <code>..quantile..</code> <span class='linklist'></span></p></li>
  <li><p>size: <code>..quantile..</code> <span class='linklist'>(scales: <a href='scale_area.html' title='Size scale for continuous variable'>area</a>, <a href='scale_manual.html' title='Manual scale, used when you want a direct mapping'>manual</a>, <a href='scale_size.html' title='Size scale for continuous variable'>size</a>, <a href='scale_size_discrete.html' title='Size scale for discrete variables'>size_discrete</a>)</span></p></li>
</ul>
<h2>New variables produced by the statistic</h2>
<p>To use these variables in an aesthetic mapping, you need to surrond them with .., like <code>aes(x = ..output..)</code>.</p>
<ul>
<li><code>quantile</code>, quantile of distribution</li>
</ul>
<h2>Parameters</h2>
<p>When an aesthetic is used an a parameter, like <code>stat_quantile(quantiles = 3)</code>, it will override mappings from data.</p>
<ul>
<li><code>quantiles</code>, conditional quantiles of y to calculate and display</li>
<li><code>formula</code>, formula relating y variables to x variables</li>
<li><code>xseq</code>, exact points to evaluate smooth at, overrides n</li>
</ul>
<h2>Default geom</h2>
<p><a href='geom_quantile.html' title='Add quantile lines from a quantile regression'>geom_quantile</a>.  Override with the  <code>geom</code> argument: <code>stat_quantile(geom="point")</code>.</p>
<h2>Examples</h2><pre>

&gt; m <span class="sym">&lt;-</span> <a href='ggplot.html'>ggplot</a><span class="sym">(</span>movies<span class="sym">,</span> <a href='aes.html'>aes</a><span class="sym">(</span>y<span class="sym">=</span>rating<span class="sym">,</span> x<span class="sym">=</span>year<span class="sym">)) +</span> <a href='geom_point.html' title='Points, as for a scatterplot'>geom_point</a><span class="sym">()</span>
&gt; m <span class="sym">+</span> stat_quantile<span class="sym">()</span>
<img src='graphics/b9225dc64ecd0e15af9eb27117c0e79a.png' />

&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span>quantiles <span class="sym">=</span> seq<span class="sym">(</span><span class="num">0.05</span><span class="sym">,</span> <span class="num">0.95</span><span class="sym">,</span> by<span class="sym">=</span><span class="num">0.05</span><span class="sym">))</span>
<img src='graphics/031d9354b659741b00709792cbaf8545.png' />

&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span>formula<span class="sym">=</span>y~x<span class="sym">)</span>
<img src='graphics/358b0f14a2f3196b9f0a9be74784820d.png' />

&gt; 
&gt; <span class="slc"># Add aesthetic mappings</span>
&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span><a href='aes.html'>aes</a><span class="sym">(</span>weight<span class="sym">=</span>votes<span class="sym">))</span>
<img src='graphics/4d07c1a58df0334372e258f5dd4a9870.png' />

&gt; 
&gt; <span class="slc"># Change <a href='scale_.html'>scale</a></span>
&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span><a href='aes.html'>aes</a><span class="sym">(</span>colour <span class="sym">=</span> ..quantile..<span class="sym">),</span> quantiles <span class="sym">=</span> seq<span class="sym">(</span><span class="num">0.05</span><span class="sym">,</span> <span class="num">0.95</span><span class="sym">,</span> by<span class="sym">=</span><span class="num">0.05</span><span class="sym">))</span>
<img src='graphics/95df02ccee0de3a3ed2d544b7e9eaa67.png' />

&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span><a href='aes.html'>aes</a><span class="sym">(</span>colour <span class="sym">=</span> ..quantile..<span class="sym">),</span> quantiles <span class="sym">=</span> seq<span class="sym">(</span><span class="num">0.05</span><span class="sym">,</span> <span class="num">0.95</span><span class="sym">,</span> by<span class="sym">=</span><span class="num">0.05</span><span class="sym">)) +</span
+ 	scale_colour_gradient<span class="sym">(</span>midpoint<span class="sym">=</span><span class="num">0.5</span><span class="sym">,</span> low<span class="sym">=</span><span class="str">&quot;green&quot;</span><span class="sym">,</span> mid<span class="sym">=</span><span class="str">&quot;yellow&quot;</span><span class="sym">,</span> high<span class="sym">=</span><span class="str">&quot;green&quot;</span><span class="sym">)</span>
<img src='graphics/488240c6fafa1c84881ee86b525f59cc.png' />

&gt; 
&gt; <span class="slc"># Set aesthetics to fixed value</span>
&gt; m <span class="sym">+</span> stat_quantile<span class="sym">(</span>colour<span class="sym">=</span><span class="str">&quot;red&quot;</span><span class="sym">,</span> size<span class="sym">=</span><span class="num">2</span><span class="sym">,</span> linetype<span class="sym">=</span><span class="num">2</span><span class="sym">)</span>
<img src='graphics/474cf53134d27afd8bf8bb3dd843e746.png' />

&gt; 
&gt; <span class="slc"># Use <a href='qplot.html'>qplot</a> instead</span>
&gt; <a href='qplot.html'>qplot</a><span class="sym">(</span>year<span class="sym">,</span> rating<span class="sym">,</span> data<span class="sym">=</span>movies<span class="sym">,</span> <a href='geom_.html'>geom</a><span class="sym">=</span><span class="str">&quot;quantile&quot;</span><span class="sym">)</span>
<img src='graphics/97771528792e8dc3148a4b7a0637a4fb.png' />
 src 
"\n" 
</pre></div>

<?php include($_SERVER["DOCUMENT_ROOT"] . "footer.html"); ?>
</body>
</html>
