<html>

<head>
	<title>geom_abline. had.co.nz</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
	<link rel="stylesheet" type="text/css" href="doc.css">
</head>

<body>
<?php include($_SERVER["DOCUMENT_ROOT"] . "header.html"); ?>

<div id="wrap">
<img src='geom_abline.png' width='50' height='50' alt='' align='right' class='icon' />
<h1>geom_abline</h1>
<p class='desc'>Line, specified by slope and intercept</p>
<h2>Details</h2>
<div class='details'>
<p>The abline <a href='geom_.html'>geom</a> adds a line with specified slope and intercept to the plot.</p>
<p>With its siblings <a href='geom_hline.html' title='Line, horizontal'>geom_hline</a> and <a href='geom_vline.html' title='Line, vertical'>geom_vline</a>, it's useful useful for annotating plots.  You can supply the parameters for geom_abline, intercept and slope, in two ways: either explicitly as fixed values, or stored in the data set.  If you specify the fixed values (<code>geom_abline(intercept=0, slope=1))</code>) then the line will be the same in all panels, but if the intercept and slope are stored in the data, then can vary from panel to panel.  See the examples for more ideas.</p>
<p>See <a href='layer.html'>layer</a> and <a href='qplot.html'>qplot</a> for more information on creating a complete plot from multiple components.</p>
</div>
<h2>Aesthetics</h2>
<p>The following aesthetics can be used with  geom_abline.  They are listed along with their default value.  All geoms and scales can also use the group aesthetic.  Read how this important aesthetic works in scale_group. Typically, you will associate an aesthetic with a variable in your data set.  To do this, you use the <a href='aes.html'>aes</a> function: <code>geom_abline(<a href='aes.html'>aes</a>(x = var))</code>. Scales control the details of the mapping between data and aesthetic properties; after each aesthetic are listed scales that can be used with that aesthetic. The <a href='scale_.html'>scale</a> documentation will also provide references to help you interpret the default values.</p>
<p>Instead of mapping an aesthetic to a variable in your dataset, you can also set it to a fixed value.  See the parameters section for details.</p>
<ul>
  <li><p>colour: <code>black</code> <span class='linklist'>(scales: <a href='scale_brewer.html' title='Colour brewer colour scales'>brewer</a>, <a href='scale_gradient.html' title='Continuous colour scale'>gradient</a>, <a href='scale_gradient2.html' title='Colour gradient, with midpoint'>gradient2</a>, <a href='scale_hue.html' title='Colours that vary continuous in hue'>hue</a>, <a href='scale_manual.html' title='Manual scale, used when you want a direct mapping'>manual</a>)</span></p></li>
  <li><p>size: <code>1</code> <span class='linklist'>(scales: <a href='scale_area.html' title='Size scale for continuous variable'>area</a>, <a href='scale_manual.html' title='Manual scale, used when you want a direct mapping'>manual</a>, <a href='scale_size.html' title='Size scale for continuous variable'>size</a>, <a href='scale_size_discrete.html' title='Size scale for discrete variables'>size_discrete</a>)</span></p></li>
  <li><p>linetype: <code>1</code> <span class='linklist'>(scales: <a href='scale_linetype.html' title='Create a scale for categorical line types'>linetype</a>, <a href='scale_manual.html' title='Manual scale, used when you want a direct mapping'>manual</a>)</span></p></li>
  <li><p>intercept: <code>0</code> <span class='linklist'></span></p></li>
  <li><p>slope: <code>1</code> <span class='linklist'></span></p></li>
</ul>
<h2>Parameters</h2>
<p>When an aesthetic is used an a parameter, like <code>geom_abline(colour = 3)</code>, it will override mappings from data.</p>
<ul>
<li><code>colour</code>, border colour</li>
<li><code>size</code>, size</li>
<li><code>linetype</code>, line type</li>
<li><code>intercept</code>, x/y intercept</li>
<li><code>slope</code>, slope of line</li>
</ul>
<h2>Default statistic</h2>
<p><a href='stat_identity.html' title='Identity statistic'>stat_identity</a>.  Override with the <code>stat</code> argument: <code>geom_abline(stat="identity")</code></p>
<h2>Default position</h2>
<p><a href='position_identity.html' title='Position adjust which does nothing'>position_identity</a>.  Override with the <code>position</code> argument: <code>geom_abline(position="jitter")</code>.</p>
<h2>See also</h2><ul>
<li><a href='stat_smooth.html' title='Add a smoother'>stat_smooth</a>: To add lines derived from the data</li>
<li><a href='geom_hline.html' title='Line, horizontal'>geom_hline</a>: for horizontal lines</li>
<li><a href='geom_vline.html' title='Line, vertical'>geom_vline</a>: for vertical lines</li>
</ul>
<h2>Examples</h2><pre>

&gt; p <span class="sym">&lt;-</span> <a href='ggplot.html'>ggplot</a><span class="sym">(</span>mtcars<span class="sym">,</span> <a href='aes.html'>aes</a><span class="sym">(</span>x <span class="sym">=</span> wt<span class="sym">,</span> y<span class="sym">=</span>mpg<span class="sym">)) +</span> <a href='geom_point.html' title='Points, as for a scatterplot'>geom_point</a><span class="sym">()</span>
&gt; 
&gt; <span class="slc"># Fixed slopes and intercepts</span>
&gt; p <span class="sym">+</span> geom_abline<span class="sym">()</span>
<img src='graphics/17eb4ac8eae5b087f866e623689a7837.png' />

&gt; p <span class="sym">+</span> geom_abline<span class="sym">(</span>slope<span class="sym">=</span><span class="num">5</span><span class="sym">)</span>
<img src='graphics/740906dbba404a3f3043a516ca6b80a5.png' />

&gt; p <span class="sym">+</span> geom_abline<span class="sym">(</span>intercept<span class="sym">=</span><span class="num">30</span><span class="sym">,</span> slope<span class="sym">=-</span><span class="num">5</span><span class="sym">)</span>
<img src='graphics/db979a69ade8698dac3c7cc0e5a2fbc2.png' />

&gt; p <span class="sym">+</span> geom_abline<span class="sym">(</span>intercept<span class="sym">=</span><span class="num">10</span><span class="sym">,</span> colour<span class="sym">=</span><span class="str">&quot;red&quot;</span><span class="sym">,</span> size<span class="sym">=</span><span class="num">5</span><span class="sym">)</span>
<img src='graphics/6dd380502ce69121aba055737a14b04d.png' />

&gt; p <span class="sym">+</span> <a href='stat_smooth.html' title='Add a smoother'>stat_smooth</a><span class="sym">(</span>method<span class="sym">=</span><span class="str">&quot;lm&quot;</span><span class="sym">,</span> se<span class="sym">=</span>FALSE<span class="sym">)</span>
<img src='graphics/17f433d2214d09c9db8f5aef60309d7d.png' />

&gt; 
&gt; <span class="slc"># Slopes and intercepts as data</span>
&gt; p <span class="sym">&lt;-</span> <a href='ggplot.html'>ggplot</a><span class="sym">(</span>mtcars<span class="sym">,</span> <a href='aes.html'>aes</a><span class="sym">(</span>x <span class="sym">=</span> wt<span class="sym">,</span> y<span class="sym">=</span>mpg<span class="sym">),</span> . ~ cyl<span class="sym">) +</span> <a href='geom_point.html' title='Points, as for a scatterplot'>geom_point</a><span class="sym">()</span>
&gt; df <span class="sym">&lt;-</span> data.frame<span class="sym">(</span>intercept<span class="sym">=</span><span class="num">25</span><span class="sym">,</span> slope<span class="sym">=</span><span class="num">2</span><span class="sym">)</span>
&gt; p <span class="sym">+</span> geom_abline<span class="sym">(</span>data<span class="sym">=</span>df<span class="sym">)</span>
<img src='graphics/ef8f500d05e7e83e3d0e981e01fd4151.png' />

&gt; 
&gt; <span class="slc"># Slopes and intercepts from linear model</span>
&gt; coefs <span class="sym">&lt;-</span> do.call<span class="sym">(</span>rbind<span class="sym">,</span> by<span class="sym">(</span>mtcars<span class="sym">,</span> mtcars$cyl<span class="sym">,</span> <span class="kwa">function</span><span class="sym">(</span>df<span class="sym">) {</span
+ 	m <span class="sym">&lt;-</span> lm<span class="sym">(</span>mpg ~ wt<span class="sym">,</span> data<span class="sym">=</span>df<span class="sym">)</span
+ 	data.frame<span class="sym">(</span>cyl <span class="sym">=</span> df$cyl<span class="sym">[</span><span class="num">1</span><span class="sym">],</span> intercept<span class="sym">=</span>coef<span class="sym">(</span>m<span class="sym">)[</span><span class="num">1</span><span class="sym">],</span> slope<span class="sym">=</span>coef<span class="sym">(</span>m<span class="sym">)[</span><span class="num">2</span><span class="sym">])</span
+ <span class="sym">}))</span>
&gt; str<span class="sym">(</span>coefs<span class="sym">)</span>
&gt; p <span class="sym">+</span> geom_abline<span class="sym">(</span>data<span class="sym">=</span>coefs<span class="sym">)</span>
<img src='graphics/03363179ed4bd6c4b7ccfade73ffaf2b.png' />

&gt; 
&gt; <span class="slc"># It's actually a bit easier to do this with <a href='stat_smooth.html' title='Add a smoother'>stat_smooth</a></span>
&gt; p <span class="sym">+</span> <a href='geom_smooth.html' title='Add a smoothed condition mean.'>geom_smooth</a><span class="sym">(</span>method<span class="sym">=</span><span class="str">&quot;lm&quot;</span><span class="sym">)</span>
<img src='graphics/070134ad25dd9e9c0e1149c9e905b677.png' />

&gt; p <span class="sym">+</span> <a href='geom_smooth.html' title='Add a smoothed condition mean.'>geom_smooth</a><span class="sym">(</span>method<span class="sym">=</span><span class="str">&quot;lm&quot;</span><span class="sym">,</span> fullrange<span class="sym">=</span>TRUE<span class="sym">)</span>
<img src='graphics/e555b73bd1ecb677663f907392b858d3.png' />
 src 
"\n" 
</pre></div>

<?php include($_SERVER["DOCUMENT_ROOT"] . "footer.html"); ?>
</body>
</html>
